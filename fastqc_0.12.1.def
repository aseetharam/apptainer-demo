Bootstrap: docker
From: ubuntu:22.04

%labels
    Author Arun Seetharam
    Version v1.0
    Description "FastQC on Ubuntu 22.04"

%environment
    export PATH=/opt/FastQC:$PATH
    export LC_ALL=C.UTF-8

%post
    export DEBIAN_FRONTEND=noninteractive
    # Install dependencies
    apt-get update && \
    apt-get install -y wget unzip openjdk-11-jre perl && \
    apt-get clean && rm -rf /var/lib/apt/lists/*

    # Download and install FastQC
    cd /opt && \
    wget https://www.bioinformatics.babraham.ac.uk/projects/fastqc/fastqc_v0.12.1.zip && \
    unzip fastqc_v0.12.1.zip && cd FastQC && chmod +x fastqc && \
    ln -s /opt/FastQC/fastqc /usr/local/bin/fastqc

%runscript
    exec fastqc "$@"

%test
    fastqc --version

%help
    Usage: apptainer exec fastqc.sif fastqc <input.fastq.gz>
